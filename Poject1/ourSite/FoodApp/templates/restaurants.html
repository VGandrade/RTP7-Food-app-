<!DOCTYPE html>
<html>
<head>
    <title>Restaurants</title>
</head>
<body>
    <h1>Restaurant List</h1>

    <!-- Search Functionality -->
    <form method="GET">

        <!-- Find restaurant by name -->
        <label for="name">Search by Name:</label>
        <input type="text" name="name" id="name" value="{{ name_query }}">

        <!-- Find restaurant by cuisine -->
        <label for="cuisine">Search by Cuisine:</label>
        <input type="text" name="cuisine" id="cuisine" value="{{ cuisine_query }}">

        <!-- Sort restaurant by ratings -->
        <label for="sort">Sort by:</label>
        <select name="sort" id="sort">
            <option value="rating_high_first" {% if sort_by == 'rating_high_first' %}selected{% endif %}>Rating - High to Low</option>
            <option value="rating_low_first" {% if sort_by == 'rating_low_first' %}selected{% endif %}>Rating - Low to High</option>
        </select>

        <button type="submit">Search</button>
    </form>

    <!-- Restaurant List -->
    <ul>
        {% for restaurant in restaurants %}
            <li>
                <strong>{{ restaurant.name }}</strong> <br>
                Cuisine: {{ restaurant.cuisine }} <br>
                Location: {{ restaurant.location }} <br>
                Rating: {{ restaurant.rating }} <br>
                Phone Number: {{ restaurant.phonenum }} <br>
                <a href="{{ restaurant.website }}" target="_blank">Website</a>
            </li>
        {% empty %}
            <li>No restaurants found.</li>
        {% endfor %}
    </ul>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD4oBoretFq5JNK1Zzo2gxk5rSedxmtjiw&loading=async&libraries=maps,marker&v=beta" defer>
    </script>
    <gmp-map center="33.7490,-84.3880" zoom="12" map-id="YOUR_GOOGLE_MAP_ID" style="height: 400px; width: 100%;"></gmp-map>
    
</body>
</html>
